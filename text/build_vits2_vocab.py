"""
Build a clean VITS2 vocabulary from a raw list of characters.
This script generates text/symbols.py automatically.
"""

from pathlib import Path

# === INPUT (your definitions) ==================================

ALL_CHARACTERS = [
    ' ', '!', '"', '$', '%', '&', "'", '(', ')', '*', ',', '-', '.', ':', ';', '<', '>', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 
    'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '[', ']', '^', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 
    'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '|', '}', '~', 'ā', 'ī', 'ı', 'ō', 'ū', 'ְ', 'י', 'ן', 'נ', '،', '؏', 
    '؛', '؟', 'ٓ', 'ٔ', 'ٕ', 'ٰ', 'ٱ', 'ڕ', 'ھ', 'ۃ', 'ی', 'ۡ', 'ۤ', 'ۥ', '\u200c', '–', '‘', '’', '“', '”', '…', 'ﭙ', 
    'ﮯ', 'ﯾ', 'ﯿ', 'ﺀ', 'ﺁ', 'ﺂ', 'ﺃ', 'ﺄ', 'ﺆ', 'ﺇ', 'ﺈ', 'ﺋ', 'ﺌ', 'ﺍ', 'ﺎ', 'ﺏ', 'ﺐ', 'ﺑ', 'ﺒ', 'ﺓ', 'ﺔ', 'ﺕ', 'ﺖ', 
    'ﺗ', 'ﺘ', 'ﺙ', 'ﺚ', 'ﺛ', 'ﺜ', 'ﺝ', 'ﺞ', 'ﺟ', 'ﺠ', 'ﺡ', 'ﺢ', 'ﺣ', 'ﺤ', 'ﺦ', 'ﺧ', 'ﺨ', 'ﺩ', 'ﺪ', 'ﺫ', 'ﺬ', 'ﺭ', 'ﺮ', 
    'ﺯ', 'ﺰ', 'ﺱ', 'ﺲ', 'ﺳ', 'ﺴ', 'ﺵ', 'ﺶ', 'ﺷ', 'ﺸ', 'ﺹ', 'ﺺ', 'ﺻ', 'ﺼ', 'ﺽ', 'ﺾ', 'ﺿ', 'ﻀ', 'ﻁ', 'ﻂ', 'ﻃ', 'ﻄ', 
    'ﻅ', 'ﻆ', 'ﻇ', 'ﻈ', 'ﻉ', 'ﻊ', 'ﻋ', 'ﻌ', 'ﻍ', 'ﻏ', 'ﻐ', 'ﻑ', 'ﻒ', 'ﻓ', 'ﻔ', 'ﻕ', 'ﻖ', 'ﻗ', 'ﻘ', 'ﻙ', 'ﻚ', 'ﻛ', 'ﻜ', 
    'ﻝ', 'ﻞ', 'ﻟ', 'ﻠ', 'ﻡ', 'ﻢ', 'ﻣ', 'ﻤ', 'ﻥ', 'ﻦ', 'ﻧ', 'ﻨ', 'ﻩ', 'ﻪ', 'ﻫ', 'ﻬ', 'ﻭ', 'ﻮ', 'ﻯ', 'ﻰ', 'ﻱ', 'ﻲ', 'ﻳ', 
    'ﻴ', 'ﻵ', 'ﻷ', 'ﻸ', 'ﻹ', 'ﻻ', 'ﻼ'
]

LETTERS_NUMBERS_AND_SIMILAR = set([
    'A', 'D', 'E', 'F', 'H', 'K', 'N', 'O', 'P', 'S', 'T', 'Y', 'Z', 'a', 'b', 'd', 'f', 'g', 'h', 'i', 'j', 'k', 
    'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'w', 'x', 'y', 'z', 'ā', 'ī', 'ı', 'ō', 'ū', 'י', 'ן', 'נ', 
    '؏', 'ٱ', 'ڕ', 'ھ', 'ۃ', 'ی', 'ﭙ', 'ﮯ', 'ﯾ', 'ﯿ', 'ﺀ', 'ﺁ', 'ﺂ', 'ﺃ', 'ﺄ', 'ﺆ', 'ﺇ', 'ﺈ', 'ﺋ', 'ﺌ', 'ﺍ', 'ﺎ', 
    'ﺏ', 'ﺐ', 'ﺑ', 'ﺒ', 'ﺓ', 'ﺔ', 'ﺕ', 'ﺖ', 'ﺗ', 'ﺘ', 'ﺙ', 'ﺚ', 'ﺛ', 'ﺜ', 'ﺝ', 'ﺞ', 'ﺟ', 'ﺠ', 'ﺡ', 'ﺢ', 'ﺣ', 'ﺤ', 
    'ﺦ', 'ﺧ', 'ﺨ', 'ﺩ', 'ﺪ', 'ﺫ', 'ﺬ', 'ﺭ', 'ﺮ', 'ﺯ', 'ﺰ', 'ﺱ', 'ﺲ', 'ﺳ', 'ﺴ', 'ﺵ', 'ﺶ', 'ﺷ', 'ﺸ', 'ﺹ', 'ﺺ', 'ﺻ', 
    'ﺼ', 'ﺽ', 'ﺾ', 'ﺿ', 'ﻀ', 'ﻁ', 'ﻂ', 'ﻃ', 'ﻄ', 'ﻅ', 'ﻆ', 'ﻇ', 'ﻈ', 'ﻉ', 'ﻊ', 'ﻋ', 'ﻌ', 'ﻍ', 'ﻏ', 'ﻐ', 'ﻑ', 'ﻒ', 
    'ﻓ', 'ﻔ', 'ﻕ', 'ﻖ', 'ﻗ', 'ﻘ', 'ﻙ', 'ﻚ', 'ﻛ', 'ﻜ', 'ﻝ', 'ﻞ', 'ﻟ', 'ﻠ', 'ﻡ', 'ﻢ', 'ﻣ', 'ﻤ', 'ﻥ', 'ﻦ', 'ﻧ', 'ﻨ', 
    'ﻩ', 'ﻪ', 'ﻫ', 'ﻬ', 'ﻭ', 'ﻮ', 'ﻯ', 'ﻰ', 'ﻱ', 'ﻲ', 'ﻳ', 'ﻴ', 'ﻵ', 'ﻷ', 'ﻸ', 'ﻹ', 'ﻻ', 'ﻼ'
])
LETTERS_NUMBERS_AND_SIMILAR.update(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'C', 'G', 'I', 'V', 'c', 'e', 'v', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '٠', '١', '٢', '٣', '٤', '٨', 'ژ', 'ک', 'ﻻ', 'ﻌ', 'ف', 'ﻶ'])

PUNCTUATION_AND_SYMBOLS = set([
    ' ', '!', '"', '$', '%', '&', "'", '(', ')', '*', ',', '-', '.', ':', '<', '>', '[', ']', '^', '|', '}', '~', 
    'ְ', '،', '؛', '؟', 'ٓ', 'ٔ', 'ٕ', 'ٰ', 'ۡ', 'ۤ', 'ۥ', '\u200c', '–', '‘', '’', '“', '”', '…'
])
# Adding the Arabic punctuation from the original list (if still relevant)
PUNCTUATION_AND_SYMBOLS.update([
    '\uFE8B', '\u06C1', '\u0640', '\u060C', '\u061B', '\u061F', '\u06D4', '\u064B', '\u064C', 
    '\u064D', '\u064E', '\u064F', '\u0650', '\u0651', '\u0652', '\u0670', '\u0653', '\u0654', 
    '\u002d', '\u201c', '\u201d', '+', '°', 'ַ', '‌'
])

# ===============================================================

PAD = "_"

def main():
    # Sort for reproducibility
    letters = sorted(LETTERS_NUMBERS_AND_SIMILAR)
    punct = sorted(PUNCTUATION_AND_SYMBOLS)

    symbols = [PAD] + punct + letters

    print(f"Total symbols: {len(symbols)}")

    output = f'''"""
AUTO-GENERATED FILE.
DO NOT EDIT MANUALLY.
"""

_pad = "{PAD}"

_punctuation = {repr("".join(punct))}

_letters = {repr(letters)}

symbols = (
    [_pad]
    + list(_punctuation)
    + _letters
)
'''

    out_path = Path("text/symbols_aux.py")
    out_path.write_text(output, encoding="utf-8")

    print(f"Vocabulary written to {out_path.resolve()}")


if __name__ == "__main__":
    main()
